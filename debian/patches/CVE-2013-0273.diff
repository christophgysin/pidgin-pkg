# HG changeset patch
# User Daniel Atallah <datallah@pidgin.im>
# Date 1360102117 18000
# Branch release-2.x.y
# Node ID a20a3dfd6a1a137df2ec5f22e16103cf77840b9f
# Parent  19dfa10d803bd91e6d3b1ee47c98589a72a5c8ac
CID 731949 - normalizing a really long sametime username overflows buffer

diff --git a/libpurple/protocols/sametime/sametime.c b/libpurple/protocols/sametime/sametime.c
--- a/libpurple/protocols/sametime/sametime.c
+++ b/libpurple/protocols/sametime/sametime.c
@@ -4977,7 +4977,7 @@
      data. wtf? */
 
   static char buf[BUF_LEN];
-  strncpy(buf, id, sizeof(buf));
+  g_strlcpy(buf, id, sizeof(buf));
   return buf;
 }
 
